"use strict";(self.webpackChunknote=self.webpackChunknote||[]).push([[1822],{9613:function(n,e,t){t.d(e,{Zo:function(){return i},kt:function(){return k}});var r=t(9496);function a(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function l(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function o(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?l(Object(t),!0).forEach((function(e){a(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}function u(n,e){if(null==n)return{};var t,r,a=function(n,e){if(null==n)return{};var t,r,a={},l=Object.keys(n);for(r=0;r<l.length;r++)t=l[r],e.indexOf(t)>=0||(a[t]=n[t]);return a}(n,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(r=0;r<l.length;r++)t=l[r],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(n,t)&&(a[t]=n[t])}return a}var p=r.createContext({}),c=function(n){var e=r.useContext(p),t=e;return n&&(t="function"==typeof n?n(e):o(o({},e),n)),t},i=function(n){var e=c(n.components);return r.createElement(p.Provider,{value:e},n.children)},s={inlineCode:"code",wrapper:function(n){var e=n.children;return r.createElement(r.Fragment,{},e)}},m=r.forwardRef((function(n,e){var t=n.components,a=n.mdxType,l=n.originalType,p=n.parentName,i=u(n,["components","mdxType","originalType","parentName"]),m=c(t),k=a,d=m["".concat(p,".").concat(k)]||m[k]||s[k]||l;return t?r.createElement(d,o(o({ref:e},i),{},{components:t})):r.createElement(d,o({ref:e},i))}));function k(n,e){var t=arguments,a=e&&e.mdxType;if("string"==typeof n||a){var l=t.length,o=new Array(l);o[0]=m;var u={};for(var p in e)hasOwnProperty.call(e,p)&&(u[p]=e[p]);u.originalType=n,u.mdxType="string"==typeof n?n:a,o[1]=u;for(var c=2;c<l;c++)o[c]=t[c];return r.createElement.apply(null,o)}return r.createElement.apply(null,t)}m.displayName="MDXCreateElement"},6493:function(n,e,t){t.r(e),t.d(e,{frontMatter:function(){return u},contentTitle:function(){return p},metadata:function(){return c},toc:function(){return i},default:function(){return m}});var r=t(5900),a=t(4750),l=(t(9496),t(9613)),o=["components"],u={},p="\u51fd\u6570\u5f0f\u7f16\u7a0b\u4e4b\u67ef\u91cc\u5316",c={unversionedId:"share/older/\u51fd\u6570\u5f0f\u7f16\u7a0b\u4e4b\u67ef\u91cc\u5316",id:"share/older/\u51fd\u6570\u5f0f\u7f16\u7a0b\u4e4b\u67ef\u91cc\u5316",title:"\u51fd\u6570\u5f0f\u7f16\u7a0b\u4e4b\u67ef\u91cc\u5316",description:"Currying",source:"@site/docs/share/older/\u51fd\u6570\u5f0f\u7f16\u7a0b\u4e4b\u67ef\u91cc\u5316.md",sourceDirName:"share/older",slug:"/share/older/\u51fd\u6570\u5f0f\u7f16\u7a0b\u4e4b\u67ef\u91cc\u5316",permalink:"/docs/share/older/\u51fd\u6570\u5f0f\u7f16\u7a0b\u4e4b\u67ef\u91cc\u5316",tags:[],version:"current",frontMatter:{},sidebar:"share",previous:{title:"TCP\u534f\u8bae",permalink:"/docs/share/older/TCP\u534f\u8bae"},next:{title:"npm\u591a\u7248\u672c\u5305\u4f9d\u8d56\u95ee\u9898\u63a2\u8ba8",permalink:"/docs/share/older/\u591a\u7248\u672c\u5305\u4f9d\u8d56\u95ee\u9898\u63a2\u8ba8"}},i=[{value:"\u901a\u7528\u5b9e\u73b0\u65b9\u6cd5",id:"\u901a\u7528\u5b9e\u73b0\u65b9\u6cd5",children:[],level:2},{value:"\u7279\u70b9",id:"\u7279\u70b9",children:[{value:"\u964d\u4f4e\u9002\u7528\u8303\u56f4\u3001\u63d0\u9ad8\u9002\u7528\u6027",id:"\u964d\u4f4e\u9002\u7528\u8303\u56f4\u63d0\u9ad8\u9002\u7528\u6027",children:[],level:3},{value:"\u5ef6\u8fdf\u6267\u884c",id:"\u5ef6\u8fdf\u6267\u884c",children:[],level:3}],level:2},{value:"\u62d3\u5c55\u4e4b\u53cd\u67ef\u91cc\u5316",id:"\u62d3\u5c55\u4e4b\u53cd\u67ef\u91cc\u5316",children:[],level:2},{value:"\u51fd\u6570\u5f0f\u7f16\u7a0b\u9ad8\u9636\u5e94\u7528",id:"\u51fd\u6570\u5f0f\u7f16\u7a0b\u9ad8\u9636\u5e94\u7528",children:[],level:2}],s={toc:i};function m(n){var e=n.components,t=(0,a.Z)(n,o);return(0,l.kt)("wrapper",(0,r.Z)({},s,t,{components:e,mdxType:"MDXLayout"}),(0,l.kt)("h1",{id:"\u51fd\u6570\u5f0f\u7f16\u7a0b\u4e4b\u67ef\u91cc\u5316"},"\u51fd\u6570\u5f0f\u7f16\u7a0b\u4e4b\u67ef\u91cc\u5316"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"Currying")),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u63a5\u53d7\u591a\u4e2a\u53c2\u6570\u7684\u51fd\u6570\u53d8\u6362\u6210\u63a5\u53d7\u4e00\u4e2a\u5355\u4e00\u53c2\u6570\uff08\u6700\u521d\u51fd\u6570\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\uff09\u7684\u51fd\u6570\uff0c\u5e76\u4e14\u8fd4\u56de\u63a5\u53d7\u4f59\u4e0b\u7684\u53c2\u6570\u800c\u4e14\u8fd4\u56de\u7ed3\u679c\u7684\u65b0\u51fd\u6570\u7684\u6280\u672f")),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u56fa\u5b9a\u4e00\u4e2a\u53ef\u4ee5\u9884\u671f\u7684\u53c2\u6570\uff0c\u5e76\u8fd4\u56de\u4e00\u4e2a\u7279\u5b9a\u7684\u51fd\u6570\uff0c\u5904\u7406\u6279\u7279\u5b9a\u7684\u9700\u6c42")),(0,l.kt)("p",null,"\u5173\u952e\u8bcd\uff1a",(0,l.kt)("inlineCode",{parentName:"p"},"\u53c2\u6570\u590d\u7528")," ",(0,l.kt)("inlineCode",{parentName:"p"},"\u8fd4\u56de\u4e00\u4e2a\u7279\u5b9a\u51fd\u6570")," ",(0,l.kt)("inlineCode",{parentName:"p"},"\u8fd4\u56de\u7684\u51fd\u6570\u63a5\u6536\u4f59\u4e0b\u7684\u53c2\u6570")," ",(0,l.kt)("inlineCode",{parentName:"p"},"\u6279\u5904\u7406")," ",(0,l.kt)("inlineCode",{parentName:"p"},"\u5ef6\u8fdf\u8fd0\u884c")),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u9884\u4e60"),(0,l.kt)("p",{parentName:"blockquote"},"call \u3001 apply\u533a\u522b")),(0,l.kt)("h2",{id:"\u901a\u7528\u5b9e\u73b0\u65b9\u6cd5"},"\u901a\u7528\u5b9e\u73b0\u65b9\u6cd5"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"const currying = (fn, ...args) => (...innerArgs) => fn.apply(null, args.concat(innerArgs))\n")),(0,l.kt)("h2",{id:"\u7279\u70b9"},"\u7279\u70b9"),(0,l.kt)("h3",{id:"\u964d\u4f4e\u9002\u7528\u8303\u56f4\u63d0\u9ad8\u9002\u7528\u6027"},"\u964d\u4f4e\u9002\u7528\u8303\u56f4\u3001\u63d0\u9ad8\u9002\u7528\u6027"),(0,l.kt)("p",null,"\u4f8b\u5b50\uff1a \u91cd\u590d\u7684 \u5904\u7406\u4e00\u7ec4\u6570\u636e\u4e2d\u7684\u6bcf\u4e2a\u5143\u7d20"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"const arrA = [1, 2, 3]\nconst arrB = [4, 5]\nconst arrC = [6, 7, 8]\n\n// \u5904\u7406\u6210 \u81ea\u4e58\uff0c\u52a0\u500d\n")),(0,l.kt)("p",null,"\u89e3\u51b3\u65b9\u6848\uff1a"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"\u901a\u7528\u51fd\u6570")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"// \u81ea\u4e58\nconst square = i => i * i\n// \u52a0\u500d\nconst double = i => i * 2\n// \u901a\u7528\u51fd\u6570\nconst map = (handler, list) => list.map(handler)\n\nmap(square, arrA)\nmap(square, arrB)\nmap(square, arrC)\n\nmap(double, arrA)\nmap(double, arrB)\nmap(double, arrC)\n")),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u901a\u7528\u51fd\u6570\uff0c\u5bf9\u901a\u7528\u6027\u589e\u5f3a\uff0c\u5e26\u6765\u4e86\u5bf9\u9002\u7528\u6027\u7684\u51cf\u5f31")),(0,l.kt)("ol",{start:2},(0,l.kt)("li",{parentName:"ol"},"\u67ef\u91cc\u5316")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"const squareCurry = currying(map, square)\n\nsquareCurry(arrA)\nsquareCurry(arrB)\nsquareCurry(arrC)\n\nconst doubleCurry = currying(map, double)\n\ndoubleCurry(arrA)\ndoubleCurry(arrB)\ndoubleCurry(arrC)\n")),(0,l.kt)("h3",{id:"\u5ef6\u8fdf\u6267\u884c"},"\u5ef6\u8fdf\u6267\u884c"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u4e0d\u65ad\u7684\u67ef\u91cc\u5316\uff0c\u7d2f\u79ef\u4f20\u5165\u7684\u53c2\u6570\uff0c\u6700\u540e\u624d\u8f93\u51fa")),(0,l.kt)("p",null,"\u4f8b\u5b50\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"add(1)(2) // => 3\n\nconst add = (pre) => (next) => pre + next\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"add(1)(5)(8)(6)(3)(3)(7)()\n\nfunction add (num) {\n    let sum = num\n    return function callback (innerNum) {\n        if (!arguments.length) {\n            return sum\n        }\n        sum = sum += innerNum\n\n        return callback\n    }\n}\n\nconsole.log(add(1)(2)(3)())\n")),(0,l.kt)("p",null,"\u4f7f\u7528\u67ef\u91cc\u5316\uff0c\u901a\u7528\u5199\u6cd5"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"const currying = (fn) => {\n    const args = []\n\n    return function callBack() {\n        if (arguments.length == 0) {\n            // \u9700\u8981\u5728\u8fd9\u91cc\u8003\u8651\u6267\u884c\u73af\u5883\n            return fn.apply(this, args)\n        }\n        Array.prototype.push.apply(args, arguments);\n\n        return callBack;\n    }\n}\n\nconst sum = (...nums) => {\n    let result = 0\n    nums.forEach(num => result += num)\n\n    return result\n}\n\nconst sumCurrying = currying(sum)(1)(2)(3)\n\nconsole.log(sumCurrying())\n")),(0,l.kt)("h2",{id:"\u62d3\u5c55\u4e4b\u53cd\u67ef\u91cc\u5316"},"\u62d3\u5c55\u4e4b\u53cd\u67ef\u91cc\u5316"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u975e\u6211\u4e4b\u7269\uff0c\u4e3a\u6211\u6240\u7528")),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u521b\u5efa\u4e00\u4e2a\u66f4\u666e\u9002\u6027\u7684\u51fd\u6570\uff0c\u53ef\u4ee5\u88ab\u4e0d\u540c\u7684\u5bf9\u8c61\u4f7f\u7528")),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u63d0\u9ad8\u9002\u7528\u8303\u56f4\uff0c\u964d\u4f4e\u9002\u7528\u6027")),(0,l.kt)("p",null,"\u4e0e\u6211\u65e0\u5173\u7684\u5c55\u793a\u65b9\u6cd5\uff0c\u4f7f\u7528\u5b83\u53bb\u5c55\u793a\u6211"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"function Toast (option) {\n    this.prompt = ''\n}\nToast.prototype = {\n    constructor: Toast,\n    // \u8f93\u51fa\u63d0\u793a\n    show: function () {\n        console.log(this.prompt)\n    }\n}\n\n// \u65b0\u5bf9\u8c61\nvar obj = {\n    prompt: '\u65b0\u5bf9\u8c61'\n};\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"function unCurrying(fn) {\n    return function (arg, ...other) {\n        return fn.apply(arg, other)\n    }\n}\n\nvar objShow = unCurrying(Toast.prototype.show)\n\nobjShow(obj)\n")),(0,l.kt)("p",null,"\u901a\u7528unCurrying"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"Function.prototype.unCurrying = function () {\n    const self = this\n    \n    return function () {\n        return Function.prototype.call.apply(self, arguments)\n        \n        // Function.prototype.call.apply\n        // \u53ef\u4ee5\u7406\u89e3\u4e3a --\x3e callFunction.apply()\n        // \u5c06callFunction\u7684this\u6307\u9488\uff0c\u901a\u8fc7apply\u6307\u5411self\uff0c\u5e76\u4f20\u5165\u53c2\u6570arguments\n        // callFunction(arguments)\n        // --\x3e callFunction(arg[0], arg[1-n])\n        \n        \n        // Function.prototype.call.apply(Toast.prototype.show, [obj])\n\n        // --\x3e\n        // Toast.prototype.show.call(obj)\n\n        // --\x3e\n        // obj.show()\n    }\n}\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},"const objShow = Toast.prototype.show.unCurrying()\nobjShow(obj)\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"const slice = Array.prototype.slice.unCurring()\nslice(arguments)\n")),(0,l.kt)("h2",{id:"\u51fd\u6570\u5f0f\u7f16\u7a0b\u9ad8\u9636\u5e94\u7528"},"\u51fd\u6570\u5f0f\u7f16\u7a0b\u9ad8\u9636\u5e94\u7528"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u8303\u7574\u8bba")),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u51fd\u6570\u5f0f\u7f16\u7a0b\u7684\u8d77\u6e90\uff0c\u662f\u4e00\u95e8\u8303\u7574\u8bba\u7684\u6570\u5b66\u5206\u652f")),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},'"\u8303\u7574\u5c31\u662f\u4f7f\u7528\u7bad\u5934\u8fde\u63a5\u7684\u7269\u4f53\u3002"'),(0,l.kt)("p",{parentName:"blockquote"},'\uff08In mathematics, a category is an algebraic structure that comprises "objects" that are linked by "arrows". \uff09')),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"Effect")," \u51fd\u5b50"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"of")," \u65b9\u6cd5"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"Maybe"),"\u51fd\u5b50"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"Either"),"\u51fd\u5b50"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"ap"),"\u51fd\u5b50"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"Monad"),"\u51fd\u5b50"),(0,l.kt)("li",{parentName:"ul"},"\u5c06\u4e0d\u7eaf\u7684",(0,l.kt)("inlineCode",{parentName:"li"},"I/O"),"\uff08\u8f93\u5165/\u8f93\u51fa\uff09\u64cd\u4f5c\u5199\u6210",(0,l.kt)("inlineCode",{parentName:"li"},"Monad"),"\u51fd\u5b50\u6765\u5b8c\u6210")))}m.isMDXComponent=!0}}]);