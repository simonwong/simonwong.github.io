(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{379:function(t,a,e){"use strict";e.r(a);var r=e(27),n=Object(r.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"react笔记"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#react笔记"}},[t._v("#")]),t._v(" React笔记")]),t._v(" "),e("h2",{attrs:{id:"react工作原理"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#react工作原理"}},[t._v("#")]),t._v(" React工作原理")]),t._v(" "),e("p",[e("img",{attrs:{src:"http://file.wangsijie.top/18-6-7/39311438.jpg",alt:""}})]),t._v(" "),e("h3",{attrs:{id:"ui-f-data"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ui-f-data"}},[t._v("#")]),t._v(" "),e("code",[t._v("UI = f(data)")])]),t._v(" "),e("p",[t._v("data就是props和state")]),t._v(" "),e("p",[t._v("Virtual DOM")]),t._v(" "),e("p",[t._v("diff算法\n"),e("code",[t._v("O(n^2)")]),t._v("的时间复杂度\n"),e("img",{attrs:{src:"http://file.wangsijie.top/17-12-5/7884015.jpg",alt:""}})]),t._v(" "),e("p",[e("code",[t._v("react")]),t._v("是"),e("code",[t._v("O(n)")]),t._v("的时间复杂度\nA挂到B，不是移动，而是"),e("code",[t._v("unmount")]),t._v(" A，然后再B上"),e("code",[t._v("mount")])]),t._v(" "),e("p",[t._v("下面这种情况，动态产生子组件，插入一个X，react会认为B被删除，加入了X。会造成浪费。\n这个时候需要有一个key的props，来表示插了一个。\nkey在兄弟节点必须唯一的，稳定的\n"),e("img",{attrs:{src:"http://file.wangsijie.top/17-12-5/48778188.jpg",alt:""}})]),t._v(" "),e("h3",{attrs:{id:"一切都是组件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#一切都是组件"}},[t._v("#")]),t._v(" 一切都是组件")]),t._v(" "),e("h3",{attrs:{id:"声明式编程-declarative-programming"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#声明式编程-declarative-programming"}},[t._v("#")]),t._v(" 声明式编程(Declarative Programming)")]),t._v(" "),e("h2",{attrs:{id:"jsx优缺点"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#jsx优缺点"}},[t._v("#")]),t._v(" jsx优缺点")]),t._v(" "),e("h2",{attrs:{id:"使用props还是state"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#使用props还是state"}},[t._v("#")]),t._v(" 使用props还是state")]),t._v(" "),e("p",[e("img",{attrs:{src:"http://file.wangsijie.top/17-12-5/98686630.jpg",alt:""}})]),t._v(" "),e("h2",{attrs:{id:"react-生命周期"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#react-生命周期"}},[t._v("#")]),t._v(" React 生命周期")]),t._v(" "),e("h3",{attrs:{id:"mount"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#mount"}},[t._v("#")]),t._v(" mount")]),t._v(" "),e("ul",[e("li",[t._v("getDefaultProps")]),t._v(" "),e("li",[t._v("getInitialState")]),t._v(" "),e("li",[t._v("componentWillMount")]),t._v(" "),e("li",[t._v("render")]),t._v(" "),e("li",[t._v("componentDidMount")])]),t._v(" "),e("h3",{attrs:{id:"update"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#update"}},[t._v("#")]),t._v(" update")]),t._v(" "),e("p",[t._v("如果state change ：")]),t._v(" "),e("ul",[e("li",[t._v("shouldComponentUpdate")]),t._v(" "),e("li",[t._v("componentWillUpdate")]),t._v(" "),e("li",[t._v("render")]),t._v(" "),e("li",[t._v("componentDidUpdate")])]),t._v(" "),e("p",[t._v("如果父组件想要重画子组件 ：")]),t._v(" "),e("ul",[e("li",[t._v("componentWillReceiveProps")]),t._v(" "),e("li",[t._v("shouldComponentUpdate")]),t._v(" "),e("li",[t._v("componentWillUpdate")]),t._v(" "),e("li",[t._v("render")]),t._v(" "),e("li",[t._v("componentDidUpdate")])]),t._v(" "),e("h3",{attrs:{id:"unmount"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#unmount"}},[t._v("#")]),t._v(" unmount")]),t._v(" "),e("h2",{attrs:{id:"为什么纯函数无状态组件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#为什么纯函数无状态组件"}},[t._v("#")]),t._v(" 为什么纯函数无状态组件")]),t._v(" "),e("p",[t._v("还有一种组件，返回空，但是要处理逻辑")]),t._v(" "),e("p",[t._v("例子： 什么都不画，但是每隔5秒向服务器发送一次请求")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("import React from 'react';\n\nexport default class HeartBeat extends React.Component {\n  render() {\n    return null;\n  }\n\n  componentDidMount() {\n    this.timer = setInterval(() => {\n      fetch('/api/v1/heartbeat');\n    }, 5000);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.timer);\n  }\n}\n")])])]),e("h2",{attrs:{id:"创建高阶组件-hoc-higher-order-component"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#创建高阶组件-hoc-higher-order-component"}},[t._v("#")]),t._v(" 创建高阶组件（HoC，Higher-Order Component)")]),t._v(" "),e("p",[t._v("组件类共享")]),t._v(" "),e("p",[t._v("有一些重复的功能，就创建高阶组件")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("const HoC = (WrappedComponent) => {\n    class WrappingComponent extends WrappendComponent {\n        render() (\n            const {user, ...otherProps} = this.props;\n            this.props = otherProps;\n            return super.render();\n        }\n    }\n    return WrappingComponent;\n};\n")])])]),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("const HoC = (WrappedComponent, LoginView) => {\n    const WrappingComponent = () => {\n         const {user} = this.props;  \n         if (user) {\n            return <WrappedComponent {...this.props} />\n         } else {\n            return <LoginView {...this.props} />\n         }\n    };\n    return WrappingComponent;\n};\n")])])]),e("h2",{attrs:{id:"组件通讯"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#组件通讯"}},[t._v("#")]),t._v(" 组件通讯")]),t._v(" "),e("blockquote",[e("p",[t._v("props传递\n"),e("img",{attrs:{src:"http://file.wangsijie.top/17-12-5/24094491.jpg",alt:""}})])]),t._v(" "),e("blockquote",[e("p",[t._v("通过父级\n"),e("img",{attrs:{src:"http://file.wangsijie.top/17-12-5/27569226.jpg",alt:""}})])]),t._v(" "),e("blockquote",[e("p",[t._v("方法一：全局变量\n方法二：context，差不多是全局变量\n"),e("img",{attrs:{src:"http://file.wangsijie.top/17-12-5/57846296.jpg",alt:""}})])])])}),[],!1,null,null,null);a.default=n.exports}}]);