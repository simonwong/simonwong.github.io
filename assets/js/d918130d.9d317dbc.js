"use strict";(self.webpackChunknote=self.webpackChunknote||[]).push([[4667],{9613:(t,e,n)=>{n.d(e,{Zo:()=>d,kt:()=>s});var a=n(9496);function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function m(t,e){if(null==t)return{};var n,a,r=function(t,e){if(null==t)return{};var n,a,r={},l=Object.keys(t);for(a=0;a<l.length;a++)n=l[a],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(a=0;a<l.length;a++)n=l[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}var i=a.createContext({}),o=function(t){var e=a.useContext(i),n=e;return t&&(n="function"==typeof t?t(e):p(p({},e),t)),n},d=function(t){var e=o(t.components);return a.createElement(i.Provider,{value:e},t.children)},u={inlineCode:"code",wrapper:function(t){var e=t.children;return a.createElement(a.Fragment,{},e)}},k=a.forwardRef((function(t,e){var n=t.components,r=t.mdxType,l=t.originalType,i=t.parentName,d=m(t,["components","mdxType","originalType","parentName"]),k=o(n),s=r,N=k["".concat(i,".").concat(s)]||k[s]||u[s]||l;return n?a.createElement(N,p(p({ref:e},d),{},{components:n})):a.createElement(N,p({ref:e},d))}));function s(t,e){var n=arguments,r=e&&e.mdxType;if("string"==typeof t||r){var l=n.length,p=new Array(l);p[0]=k;var m={};for(var i in e)hasOwnProperty.call(e,i)&&(m[i]=e[i]);m.originalType=t,m.mdxType="string"==typeof t?t:r,p[1]=m;for(var o=2;o<l;o++)p[o]=n[o];return a.createElement.apply(null,p)}return a.createElement.apply(null,n)}k.displayName="MDXCreateElement"},6439:(t,e,n)=>{n.r(e),n.d(e,{assets:()=>i,contentTitle:()=>p,default:()=>u,frontMatter:()=>l,metadata:()=>m,toc:()=>o});var a=n(2081),r=(n(9496),n(9613));const l={},p="Node \u5305\u7ba1\u7406",m={unversionedId:"note/NPM/README",id:"note/NPM/README",title:"Node \u5305\u7ba1\u7406",description:"- 2010\uff1anpm \u53d1\u5e03\uff0c\u652f\u6301 Node.js\u3002",source:"@site/docs/note/NPM/README.md",sourceDirName:"note/NPM",slug:"/note/NPM/",permalink:"/docs/note/NPM/",draft:!1,tags:[],version:"current",lastUpdatedAt:1660298396,formattedLastUpdatedAt:"Aug 12, 2022",frontMatter:{},sidebar:"note",previous:{title:"TypeScript \u5e38\u89c1\u95ee\u9898",permalink:"/docs/note/typescript/qa"},next:{title:"npm \u57fa\u7840",permalink:"/docs/note/NPM/npm\u57fa\u7840"}},i={},o=[{value:"yarn vs npm",id:"yarn-vs-npm",level:2},{value:"\u5b89\u88c5\u5305\u7ba1\u7406\u5668",id:"\u5b89\u88c5\u5305\u7ba1\u7406\u5668",level:3},{value:"\u5b89\u88c5\u4f9d\u8d56",id:"\u5b89\u88c5\u4f9d\u8d56",level:3},{value:"\u5b89\u5168\u6027",id:"\u5b89\u5168\u6027",level:3},{value:"pnpm vs yarn vs npm",id:"pnpm-vs-yarn-vs-npm",level:2},{value:"\u4f9d\u8d56\u6811",id:"\u4f9d\u8d56\u6811",level:3},{value:"\u5b89\u88c5",id:"\u5b89\u88c5",level:3},{value:"\u53c2\u8003",id:"\u53c2\u8003",level:2}],d={toc:o};function u(t){let{components:e,...n}=t;return(0,r.kt)("wrapper",(0,a.Z)({},d,n,{components:e,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"node-\u5305\u7ba1\u7406"},"Node \u5305\u7ba1\u7406"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"2010\uff1anpm \u53d1\u5e03\uff0c\u652f\u6301 Node.js\u3002"),(0,r.kt)("li",{parentName:"ul"},"2016\uff1ayarn \u53d1\u5e03\u3002\u5b83\u663e\u793a\u51fa\u6bd4 npm \u66f4\u597d\u7684\u6027\u80fd\u3002\u5b83\u8fd8\u751f\u6210\u4e00\u4e2a",(0,r.kt)("inlineCode",{parentName:"li"},"yarn.lock"),"\u6587\u4ef6\uff0c\u4f7f repos \u7684\u5171\u4eab\u548c\u7cbe\u786e\u590d\u5236\u53d8\u5f97\u66f4\u52a0\u5bb9\u6613\u548c\u53ef\u9884\u6d4b\u3002"),(0,r.kt)("li",{parentName:"ul"},"2017\uff1anpm 5 \u53d1\u5e03\u3002\u5b83\u63d0\u4f9b\u81ea\u52a8\u751f\u6210",(0,r.kt)("inlineCode",{parentName:"li"},"package-lock.json"),"\u6587\u4ef6\u5bf9\u6807 ",(0,r.kt)("inlineCode",{parentName:"li"},"yarn.lock"),"."),(0,r.kt)("li",{parentName:"ul"},"2018 \u5e74\uff1anpm 6 \u53d1\u5e03\uff0c\u63d0\u9ad8\u4e86\u5b89\u5168\u6027\u3002\u73b0\u5728 npm \u5728\u5b89\u88c5\u4f9d\u8d56\u9879\u4e4b\u524d\u68c0\u67e5\u5b89\u5168\u6f0f\u6d1e\u3002"),(0,r.kt)("li",{parentName:"ul"},"2020\uff1aYarn 2 \u548c npm 7 \u53d1\u5e03\u3002\u8fd9\u4e24\u4e2a\u8f6f\u4ef6\u5305\u90fd\u5177\u6709\u51fa\u8272\u7684\u65b0\u529f\u80fd\uff0c\u6211\u4eec\u5c06\u5728\u672c\u6559\u7a0b\u540e\u9762\u770b\u5230\u3002"),(0,r.kt)("li",{parentName:"ul"},"2021\uff1a",(0,r.kt)("a",{parentName:"li",href:"https://github.com/yarnpkg/berry/blob/master/CHANGELOG.md#300"},"Yarn 3 \u53d1\u5e03"),"\u5e76\u8fdb\u884c\u4e86\u5404\u79cd\u6539\u8fdb")),(0,r.kt)("h2",{id:"yarn-vs-npm"},"yarn vs npm"),(0,r.kt)("p",null,"\u5199\u4e8e 2022-02"),(0,r.kt)("h3",{id:"\u5b89\u88c5\u5305\u7ba1\u7406\u5668"},"\u5b89\u88c5\u5305\u7ba1\u7406\u5668"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"npm \u662f Node \u81ea\u5e26\u7684\uff0c\u901a\u8fc7 ",(0,r.kt)("inlineCode",{parentName:"li"},"nvm")," \u7ba1\u7406 node \u7248\u672c\u6765\u95f4\u63a5\u7ba1\u7406 npm \u7248\u672c"),(0,r.kt)("li",{parentName:"ul"},"yarn \u9700\u8981\u624b\u52a8\u5b89\u88c5\uff0c\u901a\u8fc7 ",(0,r.kt)("inlineCode",{parentName:"li"},"yarn set version")," \u7ba1\u7406\u7248\u672c")),(0,r.kt)("h3",{id:"\u5b89\u88c5\u4f9d\u8d56"},"\u5b89\u88c5\u4f9d\u8d56"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"npm \u662f\u6309\u987a\u5e8f\u4e00\u4e2a\u4e00\u4e2a\u5b89\u88c5\u4f9d\u8d56\u7684\u3002\u8f93\u51fa\u4fe1\u606f\u591a\uff0c\u96be\u4ee5\u9605\u8bfb\u3002"),(0,r.kt)("li",{parentName:"ul"},"yarn \u662f\u5e76\u884c\u5b89\u88c5\u7684\uff0c\u901f\u5ea6\u8981\u6bd4 npm \u5feb\u3002\u8f93\u51fa\u4fe1\u606f\u7b80\u6d01\u3002")),(0,r.kt)("p",null,"\u4ed6\u4eec\u90fd\u6709\u7f13\u5b58\u673a\u5236\uff0c\u968f\u7740 npm \u7684\u8fed\u4ee3\uff0c\u901f\u5ea6\u5dee\u4e0d\u591a\u8ddf yarn \u76f8\u5f53\u4e86\u3002"),(0,r.kt)("h3",{id:"\u5b89\u5168\u6027"},"\u5b89\u5168\u6027"),(0,r.kt)("p",null,"npm 6 \u4ee5\u524d\u5b58\u5728\u4e25\u91cd\u7684\u5b89\u5168\u6f0f\u6d1e\uff0c6 \u5f00\u59cb\u63d0\u9ad8\u4e86\u5b89\u5168\u6027\uff0c\u4f1a\u5728\u4f9d\u8d56\u5b89\u88c5\u524d\u68c0\u67e5\u3002"),(0,r.kt)("p",null,"\u4ed6\u4eec\u90fd\u662f\u7528\u54c8\u5e0c\u52a0\u5bc6\u7b97\u6cd5\u6765\u4fdd\u8bc1\u5305\u7684\u5b8c\u6574\u6027\u3002"),(0,r.kt)("h2",{id:"pnpm-vs-yarn-vs-npm"},"pnpm vs yarn vs npm"),(0,r.kt)("p",null,"\u5199\u4e8e 2022-02"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://pnpm.io/zh/feature-comparison"},"pnpm \u529f\u80fd\u6bd4\u8f83")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"\u529f\u80fd"),(0,r.kt)("th",{parentName:"tr",align:null},"pnpm"),(0,r.kt)("th",{parentName:"tr",align:null},"Yarn"),(0,r.kt)("th",{parentName:"tr",align:null},"npm"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"\u5de5\u4f5c\u7a7a\u95f4\u652f\u6301\uff08monorepo\uff09"),(0,r.kt)("td",{parentName:"tr",align:null},"\u2714\ufe0f"),(0,r.kt)("td",{parentName:"tr",align:null},"\u2714\ufe0f"),(0,r.kt)("td",{parentName:"tr",align:null},"\u2714\ufe0f")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"\u9694\u79bb\u7684 ",(0,r.kt)("inlineCode",{parentName:"td"},"node_modules")),(0,r.kt)("td",{parentName:"tr",align:null},"\u2714\ufe0f - \u9ed8\u8ba4"),(0,r.kt)("td",{parentName:"tr",align:null},"\u2714\ufe0f"),(0,r.kt)("td",{parentName:"tr",align:null},"\u2714\ufe0f")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"\u63d0\u5347\u7684 ",(0,r.kt)("inlineCode",{parentName:"td"},"node_modules")),(0,r.kt)("td",{parentName:"tr",align:null},"\u2714\ufe0f"),(0,r.kt)("td",{parentName:"tr",align:null},"\u2714\ufe0f"),(0,r.kt)("td",{parentName:"tr",align:null},"\u2714\ufe0f - \u9ed8\u8ba4")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Plug'n'Play"),(0,r.kt)("td",{parentName:"tr",align:null},"\u2714\ufe0f"),(0,r.kt)("td",{parentName:"tr",align:null},"\u2714\ufe0f - \u9ed8\u8ba4"),(0,r.kt)("td",{parentName:"tr",align:null},"\u274c")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"\u96f6\u5b89\u88c5"),(0,r.kt)("td",{parentName:"tr",align:null},"\u274c"),(0,r.kt)("td",{parentName:"tr",align:null},"\u2714\ufe0f"),(0,r.kt)("td",{parentName:"tr",align:null},"\u274c")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"\u4fee\u8865\u4f9d\u8d56\u9879"),(0,r.kt)("td",{parentName:"tr",align:null},"\u274c"),(0,r.kt)("td",{parentName:"tr",align:null},"\u2714\ufe0f"),(0,r.kt)("td",{parentName:"tr",align:null},"\u274c")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"\u7ba1\u7406 Node.js \u7248\u672c"),(0,r.kt)("td",{parentName:"tr",align:null},"\u2714\ufe0f"),(0,r.kt)("td",{parentName:"tr",align:null},"\u274c"),(0,r.kt)("td",{parentName:"tr",align:null},"\u274c")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"\u6709\u9501\u6587\u4ef6"),(0,r.kt)("td",{parentName:"tr",align:null},"\u2714\ufe0f - ",(0,r.kt)("inlineCode",{parentName:"td"},"pnpm-lock.yaml")),(0,r.kt)("td",{parentName:"tr",align:null},"\u2714\ufe0f - ",(0,r.kt)("inlineCode",{parentName:"td"},"yarn.lock")),(0,r.kt)("td",{parentName:"tr",align:null},"\u2714\ufe0f - ",(0,r.kt)("inlineCode",{parentName:"td"},"package-lock.json"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"\u652f\u6301\u8986\u76d6"),(0,r.kt)("td",{parentName:"tr",align:null},"\u2714\ufe0f"),(0,r.kt)("td",{parentName:"tr",align:null},"\u2714\ufe0f - \u901a\u8fc7 resolutions"),(0,r.kt)("td",{parentName:"tr",align:null},"\u2714\ufe0f")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"\u5185\u5bb9\u53ef\u5bfb\u5740\u5b58\u50a8"),(0,r.kt)("td",{parentName:"tr",align:null},"\u2714\ufe0f"),(0,r.kt)("td",{parentName:"tr",align:null},"\u274c"),(0,r.kt)("td",{parentName:"tr",align:null},"\u274c")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"\u52a8\u6001\u5305\u6267\u884c"),(0,r.kt)("td",{parentName:"tr",align:null},"\u2714\ufe0f - \u901a\u8fc7 ",(0,r.kt)("inlineCode",{parentName:"td"},"pnpm dlx")),(0,r.kt)("td",{parentName:"tr",align:null},"\u2714\ufe0f - \u901a\u8fc7 ",(0,r.kt)("inlineCode",{parentName:"td"},"yarn dlx")),(0,r.kt)("td",{parentName:"tr",align:null},"\u2714\ufe0f - \u901a\u8fc7 ",(0,r.kt)("inlineCode",{parentName:"td"},"npx"))))),(0,r.kt)("p",null,"pnpm \u76f8\u6bd4\u4e8e\u53e6\u5916\u4e24\u4e2a\u66f4\u5927\u7684\u533a\u522b\u5728\u4e8e\uff1a"),(0,r.kt)("h3",{id:"\u4f9d\u8d56\u6811"},"\u4f9d\u8d56\u6811"),(0,r.kt)("p",null,"pnpm \u901a\u8fc7\u786c\u94fe\u63a5\u548c\u7b26\u53f7\u94fe\u63a5\uff08\u8f6f\u94fe\u63a5\u3001Symbolic link\uff09\u94fe\u63a5\u5230\u5168\u5c40\u786c\u76d8\u6765\u7ba1\u7406 ",(0,r.kt)("inlineCode",{parentName:"p"},"node_modules"),"\u3002\u53ef\u4ee5\u5927\u5927\u51cf\u5c11\u78c1\u76d8\u7684\u7a7a\u95f4\u4f7f\u7528\u91cf\uff0c\u540c\u65f6\u4fdd\u6301 node_modules \u7684\u6574\u6d01\u3002"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://www.kochan.io/nodejs/pnpms-strictness-helps-to-avoid-silly-bugs.html"},"pnpm's strictness helps to avoid silly bugs")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u4f7f\u7528 npm \u548c yarn \u65f6")),(0,r.kt)("p",null,"\u5b89\u88c5\u7684\u5305\uff0c\u4ee5 express \u4e3a\u4f8b\u5b50\uff0c\u4f1a\u628a express  \u4ee5\u5176\u6240\u6709\u5b50\u5305\u5168\u90e8\u5b89\u88c5\u5230 node_modules \u5c42\u7ea7\uff08\u4f9d\u8d56\u662f\u5e73\u94fa\u7684\uff09\uff0c\u56e0\u6b64\u4f60\u53ef\u4ee5\u4f7f\u7528\u8fd9\u4e9b\u6240\u6709\u5305\uff0c\u5c3d\u7ba1\u4f60\u6ca1\u6709\u663e\u793a\u7684\u4f9d\u8d56\u5b83\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"# npm / yarn \u7684 node_modules \u4f9d\u8d56\u7ed3\u6784\n- .bin\n- express\n- accepts\n- body-parser\n- ...\n")),(0,r.kt)("p",null,"\u7136\u800c\u5f53\u53bb\u4f7f\u7528\u8fd9\u4e9b\u6ca1\u6709\u663e\u793a\u4f9d\u8d56\u7684\u5305\u65f6\u5c31\u53ef\u80fd\u4f1a\u51fa\u73b0\u95ee\u9898\uff0c\u4f60\u4e0d\u77e5\u9053\u8fd9\u4e2a\u5305\u7684\u7248\u672c\uff0c\u65e0\u6cd5\u77e5\u9053\u4ec0\u4e48\u65f6\u88ab express \u5347\u7ea7\u6216\u5e9f\u5f03\u3002"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u5728\u4f7f\u7528 pnpm \u65f6")),(0,r.kt)("p",null,"\u6b21\u7ea7\u4f9d\u8d56\u662f\u4e0d\u4f1a\u5b89\u88c5\u5230 express \u540c\u7ea7\u7684\uff0c\u800c\u662f\u4f5c\u4e3a express \u7684\u4f9d\u8d56\uff0c\u653e\u5728 .pnpm \u6587\u4ef6\u5939\u4e0b\uff0c\u5982\u4e0b"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"# pnpm \u7684 node_modules \u4f9d\u8d56\u7ed3\u6784\n- .pnpm\n- express\n- .modules.yaml\n")),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"http://file.wangsijie.top/blog/202202172118271.jpeg",alt:null})),(0,r.kt)("h3",{id:"\u5b89\u88c5"},"\u5b89\u88c5"),(0,r.kt)("p",null,"pnpm \u4e0d\u5141\u8bb8\u5b89\u88c5 ",(0,r.kt)("inlineCode",{parentName:"p"},"package.json")," \u4e2d\u6ca1\u6709\u5305\u542b\u7684\u5305"),(0,r.kt)("h2",{id:"\u53c2\u8003"},"\u53c2\u8003"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("a",{parentName:"p",href:"https://blog.logrocket.com/javascript-package-managers-compared/"},"JavaScript package managers compared: npm, Yarn, or pnpm?"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("a",{parentName:"p",href:"https://pnpm.io/feature-comparison"},"pnpm: Feature Comparison"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("a",{parentName:"p",href:"https://dev.to/arcanis/yarn-3-0-performances-esbuild-better-patches-e07"},"Yarn 3.0 \ud83d\ude80\ud83e\udd16 Performances, ESBuild, Better Patches, ..."))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("a",{parentName:"p",href:"https://www.sitepoint.com/yarn-vs-npm/"},"Yarn vs npm: Everything You Need to Know")))))}u.isMDXComponent=!0}}]);